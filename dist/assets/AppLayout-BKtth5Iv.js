import{d as w,u as A,g as B,c as n,n as _,b as e,F as C,h as j,t as i,i as l,e as y,j as P,k as R,R as L,l as N,o as s,a as U,m as V,p as g,q}from"./index-DPt3JfCE.js";const z={class:"flex items-center h-16 px-4 border-b border-slate-200"},F={key:0,class:"text-xl font-bold text-primary-600"},D={key:1,class:"text-xl"},E={class:"flex-1 overflow-y-auto py-4"},I={key:0,class:"px-4 mb-2 text-xs font-semibold text-slate-400 uppercase tracking-wider"},M={class:"text-lg"},O={key:0},T={class:"border-t border-slate-200 p-4"},W={key:0,class:"flex items-center gap-3"},H={class:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-sm font-medium text-primary-700"},K={class:"flex-1 min-w-0"},Q={class:"text-sm font-medium text-slate-900 truncate"},G={class:"text-xs text-slate-500 truncate"},J={key:1,class:"flex justify-center"},X={class:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-sm font-medium text-primary-700"},Y=w({__name:"AppSidebar",props:{open:{type:Boolean}},emits:["toggle"],setup(c){const o=N(),a=A(),v=[{label:"Menu",items:[{name:"Dashboard",path:"/",icon:"ğŸ "}]},{label:"Sales",items:[{name:"Quotations",path:"/quotations",icon:"ğŸ“‹",permission:"quotations.view"},{name:"Invoices",path:"/invoices",icon:"ğŸ“„",permission:"invoices.view"},{name:"Customers",path:"/customers",icon:"ğŸ‘¥",permission:"contacts.view"}]},{label:"Projects",items:[{name:"Projects",path:"/projects",icon:"ğŸ—ï¸",permission:"projects.view"},{name:"Work Orders",path:"/work-orders",icon:"ğŸ”§",permission:"work_orders.view"}]},{label:"Inventory",items:[{name:"Stock",path:"/inventory",icon:"ğŸ“¦",permission:"inventory.view"},{name:"Products",path:"/products",icon:"ğŸ·ï¸",permission:"products.view"}]},{label:"Finance",items:[{name:"Payments",path:"/payments",icon:"ğŸ’³",permission:"payments.view"},{name:"Bills",path:"/bills",icon:"ğŸ“‘",permission:"bills.view"},{name:"Reports",path:"/reports",icon:"ğŸ“Š",permission:"reports.view"}]}],b=B(()=>v.map(r=>({...r,items:r.items.filter(d=>d.permission?a.hasPermission(d.permission):!0)})).filter(r=>r.items.length>0));function t(r){return r==="/"?o.path==="/":o.path.startsWith(r)}return(r,d)=>{var m,u,p,x,k,$,S;return s(),n("aside",{class:_(["fixed inset-y-0 left-0 z-20 flex flex-col bg-white border-r border-slate-200 transition-all duration-300",c.open?"w-60":"w-16"])},[e("div",z,[c.open?(s(),n("span",F,"â˜€ï¸ Solar ERP")):(s(),n("span",D,"â˜€ï¸"))]),e("nav",E,[(s(!0),n(C,null,j(b.value,f=>(s(),n("div",{key:f.label,class:"mb-6"},[c.open?(s(),n("div",I,i(f.label),1)):y("",!0),(s(!0),n(C,null,j(f.items,h=>(s(),P(l(L),{key:h.path,to:h.path,class:_(["flex items-center gap-3 px-4 py-2.5 mx-2 rounded-lg text-sm font-medium transition-colors",[t(h.path)?"bg-primary-50 text-primary-700 border-l-2 border-primary-500":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"]])},{default:R(()=>[e("span",M,i(h.icon),1),c.open?(s(),n("span",O,i(h.name),1)):y("",!0)]),_:2},1032,["to","class"]))),128))]))),128))]),e("div",T,[c.open?(s(),n("div",W,[e("div",H,i(((u=(m=l(a).user)==null?void 0:m.name)==null?void 0:u.charAt(0))??"U"),1),e("div",K,[e("div",Q,i(((p=l(a).user)==null?void 0:p.name)??"User"),1),e("div",G,i(((k=(x=l(a).user)==null?void 0:x.roles)==null?void 0:k[0])??"User"),1)])])):(s(),n("div",J,[e("div",X,i(((S=($=l(a).user)==null?void 0:$.name)==null?void 0:S.charAt(0))??"U"),1)]))])],2)}}}),Z={class:"sticky top-0 z-10 flex items-center h-16 px-6 bg-white border-b border-slate-200"},ee={class:"relative ml-2"},te={class:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-sm font-medium text-primary-700"},se={class:"hidden md:block text-sm font-medium text-slate-700"},oe={class:"px-4 py-2 border-b border-slate-100"},ae={class:"text-sm font-medium text-slate-900"},ne={class:"text-xs text-slate-500"},re=w({__name:"AppHeader",emits:["toggleSidebar"],setup(c){const o=A(),a=U(!1);async function v(){await o.logout()}return(b,t)=>{var r,d,m,u,p;return s(),n("header",Z,[e("button",{class:"p-2 -ml-2 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700 lg:hidden",onClick:t[0]||(t[0]=x=>b.$emit("toggleSidebar"))},[...t[3]||(t[3]=[e("span",{class:"text-xl"},"â˜°",-1)])]),t[6]||(t[6]=V('<div class="flex-1"></div><div class="hidden md:flex items-center mr-4"><div class="relative"><input type="text" placeholder="Search... (Ctrl+K)" class="w-64 pl-10 pr-4 py-2 text-sm rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">ğŸ”</span></div></div><button class="relative p-2 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700"><span class="text-xl">ğŸ””</span><span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span></button>',3)),e("div",ee,[e("button",{class:"flex items-center gap-2 p-2 rounded-lg hover:bg-slate-100",onClick:t[1]||(t[1]=x=>a.value=!a.value)},[e("div",te,i(((d=(r=l(o).user)==null?void 0:r.name)==null?void 0:d.charAt(0))??"U"),1),e("span",se,i(((m=l(o).user)==null?void 0:m.name)??"User"),1),t[4]||(t[4]=e("span",{class:"text-slate-400"},"â–¼",-1))]),a.value?(s(),n("div",{key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-1",onClick:t[2]||(t[2]=x=>a.value=!1)},[e("div",oe,[e("div",ae,i((u=l(o).user)==null?void 0:u.name),1),e("div",ne,i((p=l(o).user)==null?void 0:p.email),1)]),t[5]||(t[5]=e("a",{href:"#",class:"block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50"}," âš™ï¸ Settings ",-1)),e("button",{class:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50",onClick:v}," ğŸšª Logout ")])):y("",!0)])])}}}),ie={class:"min-h-screen bg-slate-50"},le={class:"p-6"},de=w({__name:"AppLayout",setup(c){const o=U(!0);function a(){o.value=!o.value}return(v,b)=>(s(),n("div",ie,[g(Y,{open:o.value,onToggle:a},null,8,["open"]),e("div",{class:_(["transition-all duration-300",o.value?"lg:ml-60":"lg:ml-16"])},[g(re,{onToggleSidebar:a}),e("main",le,[g(l(q))])],2)]))}});export{de as default};
