import{d as v,g as w,l as k,c as d,e as j,i as e,F as p,b as t,p as C,k as q,x as L,t as o,n as N,h as S,o as n,y as D}from"./index-DPt3JfCE.js";import{a as V}from"./useQuotations-BfTbsx0Z.js";import{a as P,f as i}from"./format-CbeVEUcJ.js";const Q={key:0,class:"text-center py-12 text-slate-500"},B={key:1,class:"text-center py-12 text-red-500"},E={class:"text-sm text-slate-500 mb-4"},F={class:"text-slate-900"},I={class:"bg-white rounded-xl border border-slate-200 p-6 mb-6"},R={class:"flex items-start justify-between"},T={class:"flex items-center gap-3 mb-2"},z={class:"text-2xl font-semibold text-slate-900"},A={class:"text-slate-500"},G={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},U={class:"lg:col-span-2 space-y-6"},H={class:"bg-white rounded-xl border border-slate-200 p-6"},J={class:"grid grid-cols-2 gap-4"},K={class:"font-medium text-slate-900"},M={class:"font-medium text-slate-900"},O={class:"font-medium text-slate-900"},W={class:"font-medium text-slate-900"},X={class:"bg-white rounded-xl border border-slate-200 overflow-hidden"},Y={class:"w-full"},Z={class:"divide-y divide-slate-200"},$={class:"px-6 py-4"},tt={class:"font-medium text-slate-900"},st={class:"text-sm text-slate-500"},et={class:"px-6 py-4 text-right text-slate-900"},ot={class:"px-6 py-4 text-right text-slate-900"},at={class:"px-6 py-4 text-right font-medium text-slate-900"},lt={class:"space-y-6"},dt={class:"bg-white rounded-xl border border-slate-200 p-6"},nt={class:"space-y-3"},it={class:"flex justify-between"},rt={class:"font-medium text-slate-900"},xt={class:"flex justify-between"},ut={class:"text-slate-500"},ct={class:"font-medium text-slate-900"},mt={class:"flex justify-between"},pt={class:"font-medium text-slate-900"},_t={class:"flex justify-between"},bt={class:"font-bold text-lg text-slate-900"},vt=v({__name:"QuotationDetailPage",setup(ft){const _=k(),b=w(()=>Number(_.params.id)),{data:a,isLoading:f,error:g}=V(b);function y(r){return{draft:"bg-slate-100 text-slate-700",submitted:"bg-amber-100 text-amber-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"}[r]??"bg-slate-100 text-slate-700"}return(r,s)=>{var x,u,c;const h=L("RouterLink");return n(),d("div",null,[e(f)?(n(),d("div",Q," Loading... ")):e(g)?(n(),d("div",B," Failed to load quotation ")):e(a)?(n(),d(p,{key:2},[t("div",E,[C(h,{to:"/quotations",class:"hover:text-slate-700"},{default:q(()=>[...s[0]||(s[0]=[D("Quotations",-1)])]),_:1}),s[1]||(s[1]=t("span",{class:"mx-2"},"â€º",-1)),t("span",F,o(e(a).quotation_number),1)]),t("div",I,[t("div",R,[t("div",null,[t("div",T,[t("h1",z,o(e(a).quotation_number),1),t("span",{class:N(["px-2.5 py-0.5 rounded-full text-xs font-medium",y(e(a).status)])},o(e(a).status),3)]),t("p",A,o((x=e(a).contact)==null?void 0:x.company_name),1)]),s[2]||(s[2]=t("div",{class:"flex gap-2"},[t("button",{class:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50"}," Edit "),t("button",{class:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600"}," Submit ")],-1))])]),t("div",G,[t("div",U,[t("div",H,[s[7]||(s[7]=t("h2",{class:"font-semibold text-slate-900 mb-4"},"Details",-1)),t("dl",J,[t("div",null,[s[3]||(s[3]=t("dt",{class:"text-sm text-slate-500"},"Subject",-1)),t("dd",K,o(e(a).subject),1)]),t("div",null,[s[4]||(s[4]=t("dt",{class:"text-sm text-slate-500"},"Valid Until",-1)),t("dd",M,o(e(P)(e(a).valid_until)),1)]),t("div",null,[s[5]||(s[5]=t("dt",{class:"text-sm text-slate-500"},"Customer",-1)),t("dd",O,o((u=e(a).contact)==null?void 0:u.company_name),1)]),t("div",null,[s[6]||(s[6]=t("dt",{class:"text-sm text-slate-500"},"Email",-1)),t("dd",W,o((c=e(a).contact)==null?void 0:c.email),1)])])]),t("div",X,[s[9]||(s[9]=t("div",{class:"px-6 py-4 border-b border-slate-200"},[t("h2",{class:"font-semibold text-slate-900"},"Line Items")],-1)),t("table",Y,[s[8]||(s[8]=t("thead",{class:"bg-slate-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase"},"Item"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase"},"Qty"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase"},"Price"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase"},"Amount")])],-1)),t("tbody",Z,[(n(!0),d(p,null,S(e(a).items,l=>{var m;return n(),d("tr",{key:l.id},[t("td",$,[t("div",tt,o((m=l.product)==null?void 0:m.name),1),t("div",st,o(l.description),1)]),t("td",et,o(l.quantity)+" "+o(l.unit),1),t("td",ot,o(e(i)(l.unit_price)),1),t("td",at,o(e(i)(l.amount)),1)])}),128))])])])]),t("div",lt,[t("div",dt,[s[14]||(s[14]=t("h2",{class:"font-semibold text-slate-900 mb-4"},"Summary",-1)),t("dl",nt,[t("div",it,[s[10]||(s[10]=t("dt",{class:"text-slate-500"},"Subtotal",-1)),t("dd",rt,o(e(i)(e(a).subtotal)),1)]),t("div",xt,[t("dt",ut,"Discount ("+o(e(a).discount_percent)+"%)",1),t("dd",ct,"-"+o(e(i)(e(a).discount_amount)),1)]),t("div",mt,[s[11]||(s[11]=t("dt",{class:"text-slate-500"},"PPN 11%",-1)),t("dd",pt,o(e(i)(e(a).tax_amount)),1)]),s[13]||(s[13]=t("hr",{class:"border-slate-200"},null,-1)),t("div",_t,[s[12]||(s[12]=t("dt",{class:"font-semibold text-slate-900"},"Grand Total",-1)),t("dd",bt,o(e(i)(e(a).grand_total)),1)])])])])])],64)):j("",!0)])}}});export{vt as default};
