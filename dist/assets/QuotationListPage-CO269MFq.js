import{d as y,a as h,g as x,c as r,b as t,f as m,v as w,s as k,m as C,e as S,i,F as j,h as N,t as l,p as V,k as L,x as A,n as D,o as n,y as Q}from"./index-DPt3JfCE.js";import{u as M}from"./useQuotations-BfTbsx0Z.js";import{f as P,a as R}from"./format-CbeVEUcJ.js";const B={class:"bg-white rounded-xl border border-slate-200 p-4 mb-6"},F={class:"flex flex-wrap gap-4"},U={class:"flex-1 min-w-[200px]"},$={class:"bg-white rounded-xl border border-slate-200 overflow-hidden"},E={key:0,class:"p-8 text-center text-slate-500"},T={key:1,class:"p-8 text-center text-red-500"},z={key:2,class:"p-8 text-center"},q={key:3,class:"w-full"},G={class:"divide-y divide-slate-200"},H={class:"px-6 py-4"},I={class:"px-6 py-4"},J={class:"font-medium text-slate-900"},K={class:"text-sm text-slate-500"},O={class:"px-6 py-4 text-right font-medium text-slate-900"},W={class:"px-6 py-4"},X={class:"px-6 py-4 text-slate-500"},Y={key:4,class:"px-6 py-4 border-t border-slate-200 flex items-center justify-between"},Z={class:"text-sm text-slate-500"},tt={class:"flex gap-2"},et=["disabled"],st=["disabled"],nt=y({__name:"QuotationListPage",setup(at){const d=h({page:1,per_page:10,status:"",search:""}),{data:p,isLoading:v,error:g}=M(d),u=x(()=>{var o;return((o=p.value)==null?void 0:o.data)??[]}),a=x(()=>{var o;return(o=p.value)==null?void 0:o.meta});function b(o){return{draft:"bg-slate-100 text-slate-700",submitted:"bg-amber-100 text-amber-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",expired:"bg-slate-100 text-slate-500",converted:"bg-blue-100 text-blue-700"}[o]??"bg-slate-100 text-slate-700"}function f(o){return{draft:"Draft",submitted:"Pending",approved:"Approved",rejected:"Rejected",expired:"Expired",converted:"Converted"}[o]??o}return(o,e)=>{const _=A("RouterLink");return n(),r("div",null,[e[8]||(e[8]=t("div",{class:"flex items-center justify-between mb-6"},[t("div",null,[t("h1",{class:"text-2xl font-semibold text-slate-900"},"Quotations"),t("p",{class:"text-slate-500"},"Manage sales quotations and proposals")]),t("button",{class:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 font-medium"}," + New Quotation ")],-1)),t("div",B,[t("div",F,[t("div",U,[m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value.search=s),type:"text",placeholder:"Search quotations...",class:"w-full px-3 py-2 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[w,d.value.search]])]),m(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value.status=s),class:"px-3 py-2 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-primary-500"},[...e[4]||(e[4]=[C('<option value="">All Status</option><option value="draft">Draft</option><option value="submitted">Pending</option><option value="approved">Approved</option><option value="rejected">Rejected</option><option value="converted">Converted</option>',6)])],512),[[k,d.value.status]])])]),t("div",$,[i(v)?(n(),r("div",E," Loading... ")):i(g)?(n(),r("div",T," Failed to load quotations ")):u.value.length===0?(n(),r("div",z,[...e[5]||(e[5]=[t("div",{class:"text-4xl mb-2"},"ðŸ“‹",-1),t("div",{class:"text-slate-900 font-medium"},"No quotations found",-1),t("div",{class:"text-slate-500 text-sm"},"Create your first quotation to get started",-1)])])):(n(),r("table",q,[e[7]||(e[7]=t("thead",{class:"bg-slate-50 border-b border-slate-200"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"}," Quotation # "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"}," Customer "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider"}," Amount "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"}," Valid Until "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",G,[(n(!0),r(j,null,N(u.value,s=>{var c;return n(),r("tr",{key:s.id,class:"hover:bg-slate-50"},[t("td",H,[V(_,{to:`/quotations/${s.id}`,class:"text-primary-600 hover:text-primary-700 font-medium"},{default:L(()=>[Q(l(s.quotation_number),1)]),_:2},1032,["to"])]),t("td",I,[t("div",J,l((c=s.contact)==null?void 0:c.company_name),1),t("div",K,l(s.subject),1)]),t("td",O,l(i(P)(s.grand_total)),1),t("td",W,[t("span",{class:D(["inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium",b(s.status)])},l(f(s.status)),3)]),t("td",X,l(i(R)(s.valid_until)),1),e[6]||(e[6]=t("td",{class:"px-6 py-4 text-right"},[t("button",{class:"text-slate-400 hover:text-slate-600"}," â‹® ")],-1))])}),128))])])),a.value?(n(),r("div",Y,[t("div",Z," Showing "+l((a.value.current_page-1)*a.value.per_page+1)+" to "+l(Math.min(a.value.current_page*a.value.per_page,a.value.total))+" of "+l(a.value.total),1),t("div",tt,[t("button",{disabled:a.value.current_page===1,class:"px-3 py-1 rounded border border-slate-300 text-sm disabled:opacity-50",onClick:e[2]||(e[2]=s=>d.value.page=a.value.current_page-1)}," Previous ",8,et),t("button",{disabled:a.value.current_page===a.value.last_page,class:"px-3 py-1 rounded border border-slate-300 text-sm disabled:opacity-50",onClick:e[3]||(e[3]=s=>d.value.page=a.value.current_page+1)}," Next ",8,st)])])):S("",!0)])])}}});export{nt as default};
